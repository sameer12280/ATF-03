_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[78],{"+JwS":function(e,t,r){"use strict";var s=r("wx14"),i=r("Ff2n"),n=r("q1tI"),o=r("iuhU"),a=r("H2TA"),u=n.forwardRef((function(e,t){var r=e.disableSpacing,a=void 0!==r&&r,u=e.classes,p=e.className,l=Object(i.a)(e,["disableSpacing","classes","className"]);return n.createElement("div",Object(s.a)({className:Object(o.a)(u.root,p,!a&&u.spacing),ref:t},l))}));t.a=Object(a.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(u)},"02WG":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/embed",function(){return r("I9+k")}])},"I9+k":function(e,t,r){"use strict";r.r(t);var s=r("vJKn"),i=r.n(s),n=r("rg98"),o=r("H+61"),a=r("UlJF"),u=r("7LId"),p=r("VIvw"),l=r("iHvq"),c=r("nKUr"),h=r("H2TA"),d=r("q1tI"),f=r.n(d),g=r("/MKj"),y=r("oT12"),b=r("uGE4"),v=r("erk0"),m=r("eomm"),q=r.n(m);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,s=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(s,arguments,i)}else r=s.apply(this,arguments);return Object(p.a)(this,r)}}var O=function(e){Object(u.a)(r,e);var t=j(r);function r(e){var s;return Object(o.a)(this,r),(s=t.call(this,e)).state={codeObj:null,timestamp:Date.now(),parentURL:null,errorCode:null,error:null,loading:!0},s}return Object(a.a)(r,null,[{key:"getInitialProps",value:function(){var e=Object(n.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.req,t.res,t.store,t.pathname,t.isServer,r=t.query,e.abrupt("return",{query:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),Object(a.a)(r,[{key:"getParentURL",value:function(){try{var e,t,r;return null===(e=document)||void 0===e||null===(t=e.location)||void 0===t||null===(r=t.ancestorOrigins)||void 0===r?void 0:r[0]}catch(s){return console.log("getParentURL error",s),null}}},{key:"componentDidMount",value:function(){var e=Object(n.a)(i.a.mark((function e(){var t,r,s,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.query.theme||"light",this.props.userObj.theme!==t&&this.props.userThemeChange(t,!0),this.props.query.fontSize&&(r=+this.props.query.fontSize,this.props.userObj.editorFontSize!==r&&r>=8&&r<=32&&this.props.userEditorFontSizeChange(r,!0)),this.props.query.disableAutoComplete&&(s="true"===this.props.query.disableAutoComplete,this.props.userObj.editorDisableAutoComplete!==s&&this.props.userEditorAutoCompleteChange(s,!0)),this.setState({parentURL:this.getParentURL()}),this.props.query.language&&!v[this.props.query.language]&&(console.log("setting errors"),this.setState({errorCode:404,error:"Invalid language ".concat(this.props.query.language)})),!this.props.query.id){e.next=15;break}return e.next=9,fetch("/api/posts/".concat(this.props.query.id),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.userToken)}});case 9:if(200!==(n=e.sent).status){e.next=15;break}return e.next=13,n.json();case 13:o=e.sent,this.setState({codeObj:o,timestamp:Date.now()});case 15:this.setState({loading:!1});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publishCodeToParent",value:function(e,t){if("true"===this.props.query.codeChangeEvent){var r={_id:e._id,language:e.properties.language,files:e.properties.files,stdin:e.properties.stdin,result:e.properties.result,action:t||"NA"};window.parent.postMessage(r,"*")}}},{key:"render",value:function(){var e=this;if(this.state.errorCode&&!this.state.loading)return Object(c.jsx)(q.a,{statusCode:this.state.errorCode,title:this.state.error});var t=this.props.classes;return Object(c.jsx)("div",{className:t.root,children:!this.state.loading&&Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(y.default,{embed:!0,height:"calc(100vh - 50px)",preFill:{language:this.props.query.language||"java",codeObj:this.state.codeObj,availableLanguages:this.props.query.availableLanguages?this.props.query.availableLanguages.split(","):null,hideLanguageSelection:!(!this.props.query.hideLanguageSelection||"true"!==this.props.query.hideLanguageSelection),listenToEvents:!(!this.props.query.listenToEvents||"true"!==this.props.query.listenToEvents),hideNew:!(!this.props.query.hideNew||"true"!==this.props.query.hideNew),hideRun:!(!this.props.query.hideRun||"true"!==this.props.query.hideRun),hideStdin:!(!this.props.query.hideStdin||"true"!==this.props.query.hideStdin),hideResult:!(!this.props.query.hideResult||"true"!==this.props.query.hideResult),hideTitle:!(!this.props.query.hideTitle||"true"!==this.props.query.hideTitle),disableCopyPaste:!(!this.props.query.disableCopyPaste||"true"!==this.props.query.disableCopyPaste),hideNewFileOption:!(!this.props.query.hideNewFileOption||"true"!==this.props.query.hideNewFileOption),hideEditorOptions:!(!this.props.query.hideEditorOptions||"true"!==this.props.query.hideEditorOptions),showAi:!(!this.props.query.showAi||"true"!==this.props.query.showAi),parentURL:this.state.parentURL},handleCodeUpdate:function(t,r){e.publishCodeToParent(t,r)},handleRunComplete:function(t){e.publishCodeToParent(t,"runComplete")}},this.state.timestamp)})})}}]),r}(f.a.Component);t.default=Object(g.b)((function(e){return{userToken:e.user.token,userObj:e.user}}),{userThemeChange:b.g,userEditorFontSizeChange:b.d,userEditorAutoCompleteChange:b.c})(Object(h.a)((function(e){return{root:{flexGrow:1}}}))(O))},"yv+Y":function(e,t,r){"use strict";var s=r("wx14"),i=r("Ff2n"),n=r("q1tI"),o=r("iuhU"),a=r("H2TA"),u=r("ofer"),p=n.forwardRef((function(e,t){var r=e.children,a=e.classes,p=e.className,l=e.disableTypography,c=void 0!==l&&l,h=Object(i.a)(e,["children","classes","className","disableTypography"]);return n.createElement("div",Object(s.a)({className:Object(o.a)(a.root,p),ref:t},h),c?r:n.createElement(u.a,{component:"h2",variant:"h6"},r))}));t.a=Object(a.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(p)}},[["02WG",1,0,3,2,4,6,5,7,8,9,10,11,13,19,20,34,39,37]]]);